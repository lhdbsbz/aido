# Aido Configuration
# Place this file at ~/.aido/config.yaml

gateway:
  port: 19800
  currentAgent: "default"   # 固定使用的 agent，所有请求都用它；留空则可由请求指定
  toolsProfile: "coding"     # 全局工具集档位：minimal | coding | messaging | full
  auth:
    token: "${AIDO_TOKEN}"   # set via environment variable

# LLM Providers（baseURL 与 type 已填好；apiKey 留空，在管理页填写或使用 ${ENV_VAR}）
providers:
  anthropic:
    apiKey: ""
    type: "anthropic"
  openai:
    apiKey: ""
    type: "openai"
  deepseek:
    apiKey: ""
    baseURL: "https://api.deepseek.com"
    type: "openai"
  minimax:
    apiKey: ""
    baseURL: "https://api.minimaxi.com/anthropic"   # 国内；海外用 https://api.minimax.io/anthropic
    type: "anthropic"

# Agent Definitions（每个 agent 绑定一个 provider；可自行增加 agent）
agents:
  default:
    provider: "anthropic"
    model: "claude-sonnet-4-20250514"
    fallbacks:
      - "openai/gpt-4o"
    workspace: "./workspace"
    compaction:
      contextWindow: 200000   # 该模型上下文上限（token），按厂商文档填写，避免超限后再压缩
      keepRecentTokens: 20000
      reserveTokens: 16384
    skills:
      dirs: ["./workspace/skills"]

# MCP Tool Servers (stdio: command+args; http: url + optional env as request headers)
tools:
  mcp: []
  # Stdio example:
  # - name: "github"
  #   command: "npx"
  #   args: ["@anthropic/mcp-server-github"]
  #   transport: "stdio"
  #   env:
  #     GITHUB_TOKEN: "${GITHUB_TOKEN}"
  # HTTP+SSE example (MCP 2024-11-05):
  # - name: "remote-mcp"
  #   transport: "http"
  #   url: "http://localhost:8080/sse"
  #   env:
  #     Authorization: "Bearer ${MCP_TOKEN}"
